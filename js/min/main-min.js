!function(e,t,$,a){"use strict";var r=this,i="0fe58099f62eeec2e5b566a2be6cffe9",l=$(".selectpicker"),s={},n={"Spider-Man":1009610,"Captain Marvel":1010338,Hulk:1009351,Thor:1009664,"Iron Man":1009368,"Luke Cage":1009215,"Black Widow":1009189,Daredevil:1009262,"Captain America":1009220,Wolverine:1009718},o={1009610:"My spidey senses are tingling!",1010338:"This place... such evil.",1009351:"You're making me angry.",1009664:"I will spit my defiance at you -- with my last breath!",1009368:"Becoming an Avenger is not a right... but a privilege!",1009215:"The war is over when we SAY it's over.",1009189:"Rapido, Right? Your girlfriend give you that name?",1009262:"Just doing my Super Hero duty!",1009220:"Call me Steve",1009718:"I really like beer."},c=function(e){var t="http://gateway.marvel.com:80/v1/public/characters/"+e+"?apikey="+i;return $.ajax({url:t,type:"GET",dataType:"jsonp"})},d=function(e){var t={charList:1009610,yearStart:1950,yearEnd:2014,offset:0,limit:20},e=$.extend(t,e),a="http://gateway.marvel.com/v1/public/comics?limit="+e.limit+"&offset="+e.offset+"&noVariants=true&orderBy=onsaleDate&format=comic&dateRange="+e.yearStart+"-01-01%2C"+e.yearEnd+"-12-31&formatType=comic&characters="+e.charList+"&apikey="+i;return $.ajax({url:a,type:"GET",dataType:"json"})},u=function(){var e=[],t,a={},r=$("#hpSpinner"),i=$(".envelope"),l=$(".bxslider"),d=$("#sliderTemplate").html(),u=Handlebars.compile(d);for(t in n)e.push(c(n[t]));$.when.apply($,e).done(function(){var e=Array.prototype.slice.call(arguments,0);a.thumb=[];for(var t=0;t<e.length;t++){var n=e[t][0];200===n.code&&n.data.results[0].thumbnail?(a.url=n.data.results[0].urls[0].url||"#",a.thumb=n.data.results[0].thumbnail.path+"/portrait_uncanny.jpg",a.quote=o[n.data.results[0].id],a.name=n.data.results[0].name,a.description=n.data.results[0].description||"Really?! No description?!?!  Write your angry letters c/o: Marvel Comics",a.details="Click to learn more",s[n.data.results[0].id]=n.data.results[0].thumbnail.path+"/standard_medium.jpg",l.append(u(a))):r.append("Please try again later. error code:"+n.code)}$(".bxslider").bxSlider({slideWidth:750,autoDelay:100}),i.removeClass("dim"),r.hide()}).fail(function(e){r.append("<br>"+e.statusText+", Something has gone terribly, terribly wrong. Please try again later.")})}(),p=function(e){var t=$("#charStatus");if(t.is(":visible"))t.hide();else{var a="",r="dim",i,l=e.length,n=$("#comicResults"),o=$("#characterWrapper").find(".thumbs");for(t.show(),n.addClass(r),i=0;l>i;i++)a+='<img src="'+s[e[i]]+'">';o.html(a)}},m=function(){var e=l.val(),t;arguments.length>0&&(e=arguments[0],t=arguments[1]);var a={charList:e.toString(),offset:t},r="dim",i=$("#comicResults"),s=d(a);p(e),s.done(function(t){p(e),i.removeClass(r),h(t,$("#reportTemplate"),e)})},h=function(e,t,a){var r={},i,l,s,n,o,c,d,u=$(".resultTotals"),p=$(".showMoreResults"),m=$(".nextResult"),h=$(".offset"),f=$(".limit"),v=$(".total"),g=$("#comicResults"),y=t.html(),t=Handlebars.compile(y);if(g.empty(),200===e.code&&e.data){for(s=e.data.limit,n=e.data.total,o=e.data.offset,d=o+s,c=e.data.count,i=0;i<e.data.results.length;i++){l=e.data.results[i],r.url=e.data.results[i].urls[0].url||"#",r.title=l.title,r.description=l.description,l.images.length>0&&(r.image=l.images[0].path+"/portrait_incredible.jpg");var b=t(r);g.append(b)}if(v.html(n),f.html(o+1),h.html(d),u.show(),c){var k;m.html(s),p.show(),k=s>c?c:s,p.attr("data-offset",d),p.attr("data-sel",a),m.html(k)}}else u.hide(),g.html("Bummer!! No search results found.")},f=function(){var e,t="",a;for(e in n)t+=n[e]+",",a+='<option value="'+n[e]+'">'+e+"</option>";l.append(a),l.selectpicker()},v=function(){var t=$("#submitMe"),a=$("#clearMe"),r=$(".showMoreResults"),i=$(".navWrap"),s=$("#carousel");$("a[href*=#]:not([href=#])").on("click",function(e){e.preventDefault();var t=$(this).attr("href");$("html, body").stop().animate({scrollTop:$(t).offset().top},1e3)}),l.on("change",function(){$(this).val()?t.removeAttr("disabled"):t.attr("disabled","disabled")}),a.on("click",function(){l.selectpicker("deselectAll"),t.attr("disabled","disabled")}),t.on("click",function(){m(),t.attr("disabled","disabled"),l.selectpicker("deselectAll")}),r.on("click",function(){var e=$(this).attr("data-offset"),t=$(this).attr("data-sel").split(",");e&&t&&m(t,e)}),s.on("click",".slide",function(){var t=$(this).attr("data-url");"#"!==t&&e.open(t)}),$("#openNav, #exitNav").on("click.toggleMobileNav",function(e){e.preventDefault(),e.stopPropagation(),i.slideToggle("fast")})};$(t).ready(function(){f(),v()})}(window,document,jQuery);